var winston = require('winston');

module.exports = function(module){

	var filename = module.filename.split(/[\/\\]/).slice(-2).join('/');

	var logger = new winston.Logger({
		transports: [
			new winston.transports.Console({
				timestamp: function(){
					var date = new Date();

					var format = function(d){

						var len = function(value){
							var data = '';

							if (value.toString().length == 1){
								data += '0' + value;
							} else {
								data = value;
							}

							return data;
						};

						var year = d.getFullYear();
						var month = d.getMonth();
						var date = d.getDate();

						var hour = d.getHours();
						var minute = d.getMinutes();
						var second = d.getSeconds();

						return year + '-' + len(month) + '-' + len(date) + ' ' + len(hour) + ':' + len(minute) + ':' + len(second);
					};

					

					return format(date);
				},
				level: 'info',
				label: filename
			})
		]
	});

	return logger;

};